======================================================================
  WINDOWS FAMILY MONITOR - ИНСТРУКЦИЯ ПО УСТАНОВКЕ
======================================================================

ОПИСАНИЕ
--------
Windows Family Monitor - это компактное приложение для семейного
мониторинга активности компьютера. Программа работает в фоне как
Windows сервис и отправляет отчеты через Telegram бота.

ВОЗМОЖНОСТИ
-----------
✓ Отслеживание времени использования приложений
✓ Мониторинг посещенных веб-сайтов
✓ Ежедневные автоматические отчеты в Telegram
✓ Минимальное потребление ресурсов (<2% CPU, <50MB RAM)
✓ Работа в фоновом режиме как системный процесс

ТРЕБОВАНИЯ
----------
• Windows 10/11 (64-bit)
• Права администратора для установки
• Telegram аккаунт
• .NET 8.0 Runtime (будет включен в установку)

ПОДГОТОВКА
----------
1. Создание Telegram бота:
   - Откройте Telegram и найдите @BotFather
   - Отправьте команду /newbot
   - Следуйте инструкциям для создания бота
   - Сохраните полученный токен (выглядит как: 123456789:ABCdefGHIjklMNOpqrsTUVwxyz)

2. Получение вашего Telegram ID:
   - Найдите в Telegram бота @userinfobot
   - Отправьте ему /start
   - Бот покажет ваш User ID (число, например: 123456789)

УСТАНОВКА
---------
1. Скачайте все файлы проекта в одну папку

2. Откройте PowerShell от имени Администратора:
   - Нажмите Win + X
   - Выберите "Windows PowerShell (Администратор)" или 
     "Терминал (Администратор)"

3. Перейдите в папку с файлами:
   cd "путь\к\папке\с\файлами"

4. Если нужно, разрешите выполнение скриптов:
   Set-ExecutionPolicy -ExecutionPolicy Bypass -Scope Process

5. Запустите скрипт установки:
   .\install.ps1

6. Следуйте инструкциям на экране:
   - Введите токен Telegram бота
   - Введите ваш Telegram User ID
   - Подтвердите время отправки отчетов (по умолчанию 19:00)

7. Дождитесь завершения установки

8. Перезагрузите компьютер для активации всех компонентов

ИСПОЛЬЗОВАНИЕ
-------------
После установки откройте Telegram и найдите вашего бота.

Доступные команды:
• /start - Приветственное сообщение и список команд
• /apps - Отчет по приложениям за сегодня
• /network - Отчет по сайтам за сегодня  
• /settime HH:mm - Установить время ежедневных отчетов
  Пример: /settime 20:30

Автоматические отчеты:
Бот будет автоматически отправлять ежедневные отчеты в указанное
время (по умолчанию в 19:00).

УДАЛЕНИЕ
--------
1. Откройте PowerShell от имени Администратора

2. Перейдите в папку с файлами установки

3. Запустите скрипт удаления:
   .\uninstall.ps1

4. Подтвердите удаление

5. Выберите, хотите ли удалить все данные или сохранить их

УСТРАНЕНИЕ НЕПОЛАДОК
--------------------
Проблема: Сервис не запускается
Решение: 
  - Проверьте логи в папке:
    C:\ProgramData\Microsoft\NetworkDiagnostics\Logs
  - Убедитесь, что токен Telegram бота правильный
  - Проверьте подключение к интернету

Проблема: Бот не отвечает
Решение:
  - Убедитесь, что вы используете правильный Telegram ID
  - Проверьте, что сервис запущен (откройте services.msc и найдите
    "Windows Network Health Service")
  - Перезапустите сервис

Проблема: Не приходят отчеты
Решение:
  - Проверьте настройку времени командой /settime
  - Убедитесь, что компьютер не выключен в время отправки отчетов
  - Проверьте логи сервиса

РАСПОЛОЖЕНИЕ ФАЙЛОВ
-------------------
Сервис установлен в:
  C:\ProgramData\Microsoft\NetworkDiagnostics\

Логи находятся в:
  C:\ProgramData\Microsoft\NetworkDiagnostics\Logs\

База данных:
  C:\ProgramData\Microsoft\NetworkDiagnostics\activity.db

БЕЗОПАСНОСТЬ
------------
• Все данные хранятся локально на компьютере
• Токен бота шифруется
• Доступ к боту имеют только авторизованные пользователи
• Сервис работает с минимальными привилегиями

ВАЖНО
-----
• НЕ удаляйте процесс через диспетчер задач
• НЕ изменяйте файлы в папке установки вручную
• Храните токен бота в безопасности
• Регулярно проверяйте работу сервиса

ТЕХНИЧЕСКАЯ ПОДДЕРЖКА
---------------------
При возникновении проблем:
1. Проверьте логи сервиса
2. Убедитесь, что все требования выполнены
3. Попробуйте переустановить сервис
4. Проверьте настройки антивируса (он может блокировать сервис)

======================================================================
© 2026 Windows Family Monitor
======================================================================
